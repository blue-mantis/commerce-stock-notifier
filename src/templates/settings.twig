{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Commerce Stock Notifier plugin for Craft CMS 3.x
 *
 * Commerce Stock Notifier Settings.twig
 *
 * @author    Bluemantis
 * @copyright Copyright (c) 2020 Bluemantis
 * @link      https://bluemantis.com
 * @package   CommerceStockNotifier
 * @since     1.0.0
 */
#}

{% import "_includes/forms" as forms %}

{% do view.registerAssetBundle("bluemantis\\commercestocknotifier\\assetbundles\\commercestocknotifier\\CommerceStockNotifierAsset") %}

{{ forms.textField({
    first:        true,
    label:        "Notify Email"|t,
    required:     true,
    id:           'toEmail',
    name:         'toEmail',
    instructions: "The email address(es) that should be notified when the stock gets below the threshold. Separate multiple emails with commas."|t,
    value:        settings.toEmail,
    autofocus:    true,
    errors:       settings.getErrors('toEmail')
}) }}

{{ forms.textField({
    label:        "Low Stock Threshold"|t,
    id:           'threshold',
    name:         'threshold',
    instructions: "The stock amount that should trigger a notification."|t,
    value:        (settings.threshold ? settings.threshold : ""),
    errors:       settings.getErrors('threshold')
}) }}